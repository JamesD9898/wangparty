<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WangPartyD</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <h1>WangParty</h1>
    <h3>5-Second Rule</h3>
    <p>
      How to Play: Lorem ipsum dolor sit amet consectetur, adipisicing elit.
      Unde cumque ad molestias nisi culpa eos inventore, repudiandae veniam
      voluptas aliquid esse recusandae commodi, voluptatem quae nam consectetur.
      Voluptas adipisci cupiditate, deserunt iusto fugiat, veritatis saepe vel,
      sint ut praesentium libero? hi bro
    </p>
    <h2>Servers</h2>
    <div class="servers">
      <script>
        const serverdiv = document.querySelector(".servers");
        async function updateServerDiv() {
          const servers = await fetch("/api/servers").then((res) => res.json());
          console.log(servers.servers);
          let serverhtml = "";
          servers.servers.forEach((server) => {
            console.log(`${server.id}: ${server.name}`);
            serverhtml =
              serverhtml +
              `<div id="server${server.id}">
                <h3 class="servername">${server.name}</h3>
                <p class="visibility" id="${
                  server.public ? "Public" : "Private"
                }">${server.public ? "Public" : "Private"}</p>
                <p class="players">${server.players.length}/5 Players</p>
                <button class="join">Join Lobby</button>
            </div>`;
          });
          serverdiv.insertAdjacentHTML("beforeend", serverhtml);
        }
        updateServerDiv();
      </script>
    </div>
  </body>
</html>
